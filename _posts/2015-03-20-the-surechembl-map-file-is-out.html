---
layout: post
title: The SureChEMBL map file is out
date: '2015-03-20T13:16:00.000Z'
author: George Papadatos
tags:
- data
- Patents
- Databases
- SureChEMBL
modified_time: '2015-03-20T15:51:34.507Z'
thumbnail: http://4.bp.blogspot.com/-nZbpPeBAbgU/VQwJSfxv6WI/AAAAAAAAAaY/ptLNY2QS-ZU/s72-c/Screen%2BShot%2B2015-03-20%2Bat%2B11.48.28.png
blogger_id: tag:blogger.com,1999:blog-2546008714740235720.post-4010781409222082694
blogger_orig_url: http://chembl.blogspot.com/2015/03/the-surechembl-map-file-is-out.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">
<div class="separator" style="clear: both; text-align: center;">
<a href="http://imgs.xkcd.com/comics/documents.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://imgs.xkcd.com/comics/documents.png" height="400" width="240" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">As many of you know, SureChEMBL taps into the wealth of knowledge hidden in the patent documents. More specifically, SureChEMBL extracts and indexes chemistry from the full-text patent corpus (EPO, WIPO and USPTO; JPO titles and abstracts only) by means of automated text- and image-mining, on a daily basis. We have recently hosted a webinar about it which turned out to be very popular - for those who missed it, the video and slides are <a href="http://www.ebi.ac.uk/training/online/course/surechembl-accessing-chemical-patent-data-webinar" target="_blank">here</a>. </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b id="docs-internal-guid-6722a609-3698-9f61-ffda-53850f878937" style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Besides the interface, SureChEMBL compound data can be accessed in various ways, such as <a href="https://www.ebi.ac.uk/unichem/ucquery/sourceDetails/15" target="_blank">UniChem</a> and <a href="https://www.ncbi.nlm.nih.gov/pcsubstance?term=%22SureChEMBL%22[sourcename]" target="_blank">PubChem</a>. The full compound dump is also available as a flat file download from our <a href="ftp://ftp.ebi.ac.uk/pub/databases/chembl/SureChEMBL/data/" target="_blank">ftp server</a>.</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Since the release of the SureChEMBL interface last September, we have received numerous requests for a way to access compound </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">and </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">patent data in a batch way. Typical use-cases would include retrieving all compounds for a list of patent IDs, or </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">vice versa</span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">, retrieving all patents where one or more compounds have been extracted from. As a result, we have now produced this so-called </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">map</span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> file which connects SureChEMBL compounds and patents.</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">It is available <a href="ftp://ftp.ebi.ac.uk/pub/databases/chembl/SureChEMBL/data/map/" target="_blank">here</a>.</span></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">More information can be found in the <a href="ftp://ftp.ebi.ac.uk/pub/databases/chembl/SureChEMBL/data/map/README" target="_blank">README</a> file.</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">What is this file?</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">There is a total of 216,892,266 rows in the map, indicating a compound extracted from a specific section of a specific patent document. The format of the file is quite simple: it contains compound information (SCHEMBL ID, SMILES, InChI Key, corpus frequency), patent information (patent ID and publication data), and finally location information, such as the field ID and frequency. The field ID indicates the specific section in the patent where the compound was extracted from (1:Description, 2:Claims, 3:Abstract, 4:Title, 5:Image, 6:MOL attachment). The frequency is the number of times the compound was found in a given section of a given patent. More information on the format of the file in the <a href="ftp://ftp.ebi.ac.uk/pub/databases/chembl/SureChEMBL/data/map/README" target="_blank">README</a> file. </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">How many compounds and patents are there?</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">There are 187,958,584 unique patent-compound pairs, involving 14,076,090 unique compound IDs extracted from 3,585,233 EP, JP, WO and US patent documents - an average of ~52 compounds per patent. The patent coverage is from 1960 to 31-12-2014 inclusive. </span><br />
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Here's a breakdown of the patents in the map per year and patent authority:</span><br />
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span>
<br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-nZbpPeBAbgU/VQwJSfxv6WI/AAAAAAAAAaY/ptLNY2QS-ZU/s1600/Screen%2BShot%2B2015-03-20%2Bat%2B11.48.28.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-nZbpPeBAbgU/VQwJSfxv6WI/AAAAAAAAAaY/ptLNY2QS-ZU/s1600/Screen%2BShot%2B2015-03-20%2Bat%2B11.48.28.png" height="368" width="640" /></a></div>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Are these </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">all</span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> the compounds and patents in SureChEMBL? </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><a href="http://xkcd.com/1475/" target="_blank">Technically</a>, no - in practice, yes. We excluded chemically annotated patents that are not immediately relevant to life sciences, such as <a href="https://www.surechembl.org/document/US-20150077909-A1" target="_blank">this</a> one. For the filtering, we used a list of relevant <a href="http://web2.wipo.int/ipcpub/#refresh=page" target="_blank">IPCR</a> and related patent classification codes. At the same time, we excluded too small, too large, too trivial compounds, along with non-organic and radical/fragment compounds. </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Are these compounds genuinely claimed as novel in their respective patents? </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Automated methods to assess which are the important and relevant compounds in a pharmaceutical patent is a field of research and one of our future plans. For now, the map file include </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">all</span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> extracted chemistry mentioned in all sections of a patent, subject to the filters listed in the previous section. A quick and effective trick to filter out trivial and/or uninformative compounds is to use the corpus frequency column and exclude everything with a value more than, say, 1000. Note that, in this way, you will also exclude drug compounds such as sildenafil, which are casually mentioned in </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">a lot</span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> of patents. You could also look for compounds mentioned only in claims, description or images sections by filtering by the corresponding field ID.</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">What can I do with this?</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Well, you can start by 'grepping' for one or more patent IDs or SCHEMBL IDs or InChI keys, followed by further filtering. Many of you will choose to normalise the flat file into 3 database tables (say compounds, documents and doc_to_compound) for centralised access and easy querying. </span></div>
<br />
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">For example, to find the patents the drug <a href="https://www.ebi.ac.uk/chembl/compound/inspect/CHEMBL189963" target="_blank">palbociclib</a> has been extracted from:</span></div>
<script src="https://gist.github.com/madgpap/f9b20c2e2ea902b92687.js"></script><br />
<span style="font-family: 'Trebuchet MS'; font-size: 16px; font-weight: bold; line-height: 1.38; text-align: justify; white-space: pre-wrap;">Any plans to update this map file? &nbsp;</span><br />
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">New patents and chemistry arrive and are stored to SureChEMBL every day. We are planning to release new versions and incremental updates of the map file every quarter, in sync with the update of the compound dump files. </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">I couldn’t find my compound / patent - this compound should not be there</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Don’t forget this an automated, live, high-throughput text-mining effort against an inherently noisy corpus such as patents. We are constantly working on improving data quality. If you find anything strange, <a href="mailto:surechembl-help@ebi.ac.uk" target="_blank">let us know</a>. </span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Can I join more metadata, such as patent assignee and title?</span></div>
<div class="separator" style="clear: both; text-align: justify;">
<b style="font-weight: normal;"><br />
</b></div>
<div dir="ltr" style="line-height: 1.38; margin-bottom: 0pt; margin-top: 0pt; text-align: justify;">
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Obviously your first port of call would be the SureChEMBL website for patent metadata, but other services you may wish to use include the <a href="http://www.epo.org/searching/free/ops.html" target="_blank">EPO web services</a> for programmatic access.</span><br />
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><span style="font-weight: bold; line-height: 22.0799999237061px;">Is there anything else?</span></span><br />
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><span style="font-weight: bold; line-height: 22.0799999237061px;"><br /></span></span>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">Errr, yes. Watch this space for another post on storing and accessing </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><i>live</i></span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> SureChEMBL data, </span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><i>behind</i></span><span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"> your firewall.&nbsp;</span><br />
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;"><br /></span>
<span style="background-color: transparent; color: black; font-family: 'Trebuchet MS'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline; white-space: pre-wrap;">The SureChEMBL Team </span></div>
<br /></div>
